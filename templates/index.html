<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Forecasting</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            max-height: 400px; /* Fixed height */
            overflow-y: auto; /* Enable vertical scroll */
            display: block; /* Make table scrollable */
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f4f4f4;
        }
        #input-table {
            display: block; /* Make table scrollable */
        }
    </style>
</head>
<body>

<h1>Energy Consumption Forecasting</h1>
<form method="POST" action="/forecast">
    <label for="start_date">Start Date:</label>
    <input type="date" id="start_date" name="start_date" required>
    <br><br>
    <label for="end_date">End Date:</label>
    <input type="date" id="end_date" name="end_date" required>
    <br><br>
    <label for="forecast_hours">Forecast Hours:</label>
    <input type="number" id="forecast_hours" name="forecast_hours" min="1" required>
    <br><br>
    <input type="submit" value="Forecast">
</form>

<h2>Input Data</h2>
<div id="input-table">
    <table>
        <thead>
            <tr>
                <th>DateTime</th>
                <th>Avg PF</th>
                <th>Current (B)</th>
                <th>Current (N)</th>
                <th>Current (R)</th>
                <th>Current (Y)</th>
                <th>V B-R</th>
                <th>V R-Y</th>
                <th>V Y-B</th>
                <th>kVA</th>
                <th>kVAh</th>
                <th>kW (Total)</th>
                <th>kWh</th>
            </tr>
        </thead>
        <tbody>
            {% for row in input_data %}
            <tr>
                <td>{{ row.DateTime }}</td>
                <td>{{ row['Avg PF'] }}</td>
                <td>{{ row['Current (B)'] }}</td>
                <td>{{ row['Current (N)'] }}</td>
                <td>{{ row['Current (R)'] }}</td>
                <td>{{ row['Current (Y)'] }}</td>
                <td>{{ row['V B-R'] }}</td>
                <td>{{ row['V R-Y'] }}</td>
                <td>{{ row['V Y-B'] }}</td>
                <td>{{ row['kVA'] }}</td>
                <td>{{ row['kVAh'] }}</td>
                <td>{{ row['kW (Total)'] }}</td>
                <td>{{ row['kWh'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

</body>
</html>
